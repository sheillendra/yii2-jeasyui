window.yii.easyui=function(g){var p={},n,k,q=g(".main-mask"),y=g("#global-error"),l,w=function(a,b,c,d){k.tabs({fit:!0,border:!1,onSelect:function(f,h){r(f,h,a,b)},onUnselect:function(f,h){},onAdd:function(f,h){n.children[0].children[2].children[0].children[h].children[0].onmousedown=function(){t(this,f,h,a,b);return!1};u();v()},onLoad:function(f){v()},onClose:function(f,h){u()}});yii.easyui.tabOptions&&yii.easyui.tabOptions.title?(yii.easyui.createTab(yii.easyui.tabOptions,yii.easyui.selectedNav),
yii.easyui.hideMainMask(),delete yii.easyui.tabOptions):(c=c(yii.easyui.selectedNav),void 0!==c&&c?d(c):(yii.easyui.hideMainMask(),g.messager.alert("Error",yii.easyui.t.navigationNotFound,"error")));return!0},t=function(a,b,c,d,f){if(!a.parentElement.classList.contains("tabs-selected")){for(var h=a.parentElement.parentElement.children,e=0;e<h.length;e++)h[e].classList.contains("tabs-selected")&&h[e].classList.remove("tabs-selected");a.parentElement.classList.add("tabs-selected");for(e=a=0;e<h.length;e++)if(h[e].classList.contains("tabs-selected")){a=
e;break}e=h[0].parentElement.parentElement.parentElement.nextSibling.children;for(var m=0;m<h.length;m++)e[m].hidden||(e[m].style.display="none");e[a].style.display="block";r(b,c,d,f)}},v=function(){void 0!==yii.easyui.tabInit&&"function"===typeof yii.easyui.tabInit&&(yii.easyui.tabInit(),yii.easyui.tabInit=function(){})},r=function(a,b,c,d){b=(k.tabs("getTab",b)||k.tabs("getTab",a)).panel("options");b.href?window.history.replaceState("",a,decodeURIComponent(b.href)):b.data&&b.data.url&&window.history.replaceState("",
a,decodeURIComponent(b.data.url));document.title=a;d(c(b.data.nav))},u=function(){var a=k.find(".tabs-header .tabs li"),b=g(a[0]),c=b.find(".tabs-close"),d=b.find(".tabs-title");b=b.find(".tabs-p-tool");1<a.length?(c.show(),d.css("padding-right","20px").addClass("tabs-closable"),b.attr("style","")):(c.hide(),d.css("padding-right","9px").removeClass("tabs-closable"),b.css("right","5px"));return!0},z=function(){l.tree({lines:!1,data:yii.easyui.navItem,onClick:function(a){if(a.attributes&&a.attributes.url){yii.easyui.showMainMask();
var b={title:a.attributes.title||a.text,href:a.attributes.url,iconCls:a.iconCls};"function"===typeof a.attributes.params?b.queryParams=a.attributes.params():"object"===typeof a.attributes.params&&(b.queryParams=a.attributes.params);yii.easyui.createTab(b,a.id)}}});w(function(a){return l.tree("find",a)},function(a){a&&l.tree("select",a.target)},function(a){return l.tree("find",a)},function(a){var b={title:a.attributes.title||a.text,iconCls:a.iconCls};yii.easyui.tabOptions&&yii.easyui.tabOptions.content?
(b.content=yii.easyui.tabOptions.content,void 0===b.data&&(b.data={}),b.data.url=a.attributes.url,yii.easyui.hideMainMask()):b.href=a.attributes.url;yii.easyui.createTab(b,a.id)})},A=function(){l.accordion({border:!1,fit:!0});var a=function(b,c,d){var f="";(d=d||"")&&(d+=" - ");b.title=c;b.children?g.each(b.children,function(h,e){e.children?f+=a(e,c,d+e.text):(f+='<a data-accordion="'+b.title+'" id="'+e.id+'" data-icon="'+e.iconCls+'" data-url="'+e.attributes.url+'" data-tabtitle="'+(e.attributes.title||
e.text),e.attributes.params&&(f+='" data-params="'+e.attributes.params),f+='" class="nav-btn">'+d+e.text+"</a>")}):f+='<a data-accordion="'+b.title+'" id="'+b.id+'" data-icon="'+b.iconCls+'" data-url="'+b.attributes.url+'" data-tabtitle="'+(b.attributes.title||b.text)+'" class="nav-btn">'+b.text+"</a>";return f};g.each(yii.easyui.navItem,function(b,c){if(void 0===c.visible||c.visible)c.content=a(c,c.text),void 0===c.children&&delete c.id,l.accordion("add",c)});g.each(g(".nav-btn"),function(b,c){g(c).linkbutton({toggle:!0,
group:"g1",iconCls:c.dataset.icon,onClick:function(){yii.easyui.showMainMask();var d={title:c.dataset.tabtitle,href:c.dataset.url,iconCls:c.dataset.icon};c.dataset.params&&eval("params = "+c.dataset.params);yii.easyui.createTab(d,c.id)}})});w(function(b){return document.getElementById(b)},function(b){void 0!==b&&b&&!b.classList.contains("l-btn-selected")&&(l.find(".l-btn-selected").removeClass("l-btn-selected"),b.classList.add("l-btn-selected"),l.accordion("select",b.dataset.accordion))},function(b){return document.getElementById(b)},
function(b){var c={title:b.dataset.tabtitle,iconCls:b.dataset.icon};yii.easyui.tabOptions&&yii.easyui.tabOptions.content?(c.content=yii.easyui.tabOptions.content,void 0===c.data&&(c.data={}),c.data.url=b.dataset.url,yii.easyui.hideMainMask()):c.href=b.dataset.url;yii.easyui.createTab(c,yii.easyui.selectedNav)})},B=function(){var a=g("#north-user-menu");a.menu({});var b={};g.each(yii.easyui.northUserMenu,function(c,d){if(void 0!==d.parent)if(void 0===b[d.parent]&&(b[d.parent]=a.menu("findItem",d.parent)),
b[d.parent])d.parent=b[d.parent].target;else return!1;a.menu("appendItem",d)});g("#north-user-menu-btn").menubutton({text:yii.easyui.username,iconCls:"icon-user",menu:a})},C=function(a,b){b=g.extend({valueField:"id",textField:"text"},b);var c=[];g.each(yii.easyui.reference[a],function(d,f){var h={};h[b.valueField]=d;h[b.textField]=f;c.push(h)});b.data=c;return b},x=function(a,b,c,d){c=void 0===c?function(){}:c;d=g.extend({width:300,label:a,labelPosition:"top"},d);b.combobox(C(a,d));c()},D=function(a,
b,c,d){d=void 0===d?{}:d;if(yii.easyui.reference[a])x(a,b,c,d);else ajaxMap[a](function(){x(a,b,c,d)})};return{isActive:!1,westContent:"",northContent:"",centerContent:"",southContent:"",reference:{status:{0:"Not Active",1:"Active"},gender:{1:"Male",2:"Female"}},init:function(){if(yii.easyui.errorName)return yii.easyui.hideMainMask(),g.messager.alert(yii.easyui.errorName,yii.easyui.errorMessage,"error",function(){window.location=yii.easyui.homeUrl}),!1;window.onbeforeunload=function(a){yii.easyui.showMainMask()};
g("body").layout({fit:!0,border:!1}).layout("add",{region:"north",content:yii.easyui.northContent,collapsible:!1,border:!1,height:40}).layout("add",{title:yii.easyui.westTitle,region:"west",iconCls:yii.easyui.westIcon,split:!0,width:200,content:yii.easyui.westContent,hideCollapsedContent:!1,onCollapse:function(){yii.easyui.cookie.set("west-collapsed",1)},onExpand:function(){yii.easyui.cookie.set("west-collapsed",0)}}).layout("add",{region:"south",content:yii.easyui.southContent,border:!1}).layout("add",
{region:"center",content:yii.easyui.centerContent});delete yii.easyui.northContent;delete yii.easyui.westContent;delete yii.easyui.southContent;delete yii.easyui.centerContent;B();l=g("#navigation");n=document.getElementById("maintab");k=g(n);"tree"===yii.easyui.sidebarPlugin?z():A();delete yii.easyui.selectedNav;delete yii.easyui.errorName;delete yii.easyui.errorMessage},getTabHeader:function(a){for(var b=n.children[0].children[2].children[0].children,c=0;c<b.length;c++)if(b[c].children[0].children[0].innerText===
a)return b[c];return null},createTab:function(a,b){(1281>window.innerWidth||~~yii.easyui.cookie.get("west-collapsed"))&&g("body").layout("collapse","west");var c=yii.easyui.getTabHeader(a.title);c?(t(c.children[0],a.title,null,function(){return!1},function(){return!1}),yii.easyui.hideMainMask()):(void 0===a.data&&(a.data={}),a.closable=!0,a.data.nav=b,a.onLoadError=function(d){var f=k.tabs("getSelected");if(0===d.readyState)yii.easyui.hideMainMask(),g.messager.confirm("Error",yii.easyui.t.connectionErrorRetryNow,
function(e){e?(yii.easyui.showMainMask(),f.panel("refresh")):(e=f.panel("options"),e.content=yii.easyui.t.connectionError,e.data.url=e.href,delete e.href,k.tabs("update",{tab:f,options:e}))});else{var h=f.panel("options");h.content=d.responseText;h.data.url=h.href;delete h.href;k.tabs("update",{tab:f,options:h});yii.easyui.hideMainMask()}},void 0===a.tools&&(a.tools=[{iconCls:"icon-mini-refresh",handler:function(){if(this.parentElement.parentElement.classList.contains("tabs-selected")){var d=k.tabs("getSelected"),
f=d.panel("options");f.href?d.panel("refresh"):d.panel("refresh",f.data.url)}}}]),k.tabs("add",a))},maintabEl:function(){return n},maintab:function(){return k},activeAjax:function(a,b,c,d,f,h){void 0===h&&(h=!0);yii.easyui.showMainMask();g.ajax({url:yii.easyui.getHost("api")+yii.easyui.ajaxAuthToken({r:a,id:b},!0),type:"POST",data:c,success:function(e){h&&f();yii.easyui.hideMainMask();void 0!==e.message&&g.messager.alert(d||yii.easyui.t.message,e.message,e.success?"info":"error")},error:function(e){yii.easyui.hideMainMask();
yii.easyui.ajaxError(e,function(m){m&&activeAjax(a,b,c,d,f,h)})}})},setHost:function(a,b){p[a]=b},getHost:function(a){return p[a]},ajaxAuthToken:function(a,b){a=a||{};if(window.localStorage.getItem("token"))return a["access-token"]=window.localStorage.getItem("token"),b?"?"+g.param(a):a;yii.handleAction(g('<a href="'+yii.easyui.logoutUrl+'" data-method="post"></a>'))},ajaxError:function(a,b,c){yii.easyui.hideMainMask();c=c||yii.easyui.t.tryAgain;b={cancel:yii.easyui.t.close,ok:c,fn:b||function(){return!1}};
if(0===a.readyState)b.title=yii.easyui.t.connectionError,b.msg=yii.easyui.t.connectionIsRefused;else{if(401===a.status){yii.handleAction(g('<a href="'+yii.easyui.logoutUrl+'" data-method="post"></a>'));return}if("object"===typeof a.responseJSON)if(a.responseJSON.name)b.title=a.responseJSON.name,b.msg=a.responseJSON.message,a.responseJSON.file&&(b.msg+=" file: "+a.responseJSON.file+" line: "+a.responseJSON.line);else return g.messager.alert(a.statusText,a.responseJSON[0].message,"error");else b.title=
a.statusText+" (#"+a.status+")",b.msg=a.responseText}g.messager.confirm(b)},showError:function(a){a=void 0!==a.responseText?a.responseText:a;if("object"===typeof a){var b=[];g.each(a,function(c,d){b.push(d)});a=b.join(", ")}y.dialog({title:"Error",modal:!0,minWidth:300,minHeight:200,maxWidth:window.innerWidth-50,maxHeight:window.innerHeight-50,content:a})},formatter:{currency:function(a,b,c){return a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},date:function(a){var b=a.getFullYear(),c=a.getMonth()+
1;a=a.getDate();return(10>a?"0"+a:a)+"-"+(10>c?"0"+c:c)+"-"+b}},parser:{date:function(a){if(!a)return new Date;var b=a.split("-");a=parseInt(b[0],10);var c=parseInt(b[1],10);b=parseInt(b[2],10);return isNaN(a)||isNaN(c)||isNaN(b)?new Date:new Date(b,c-1,a)}},defaults:{validatebox:{minLength:function(){void 0===g.fn.validatebox.defaults.rules.minLength&&(g.fn.validatebox.defaults.rules.minLength={validator:function(a,b){return a.length>=b[0]},message:"Please enter at least {0} characters."})},equals:function(){void 0===
g.fn.validatebox.defaults.rules.equals&&(g.fn.validatebox.defaults.rules.equals={validator:function(a,b){return a===g(b[0]).val()},message:"Field do not match."})}},pagination:{displayMsg:function(a){a=a||"{from} - {to} of {total}";"reset"===a&&(a="Displaying {from} to {to} of {total} items");g.fn.pagination.defaults.displayMsg=a},last:function(){g.fn.pagination.defaults.last={}}}},editor:{readOnly:{type:"textbox",options:{readonly:!0,multiline:!0}}},defaultDgOptions:{fit:!0,striped:!0,border:!1,
method:"get",rownumbers:!0,pagination:!0,checkOnSelect:!1,selectOnCheck:!1,singleSelect:!0,emptyMsg:"No Records Found",onLoadSuccess:function(a){g(this).datagrid("selectRow",0);yii.easyui.hideMainMask()},onLoadError:function(a){yii.easyui.hideMainMask()}},showMainMask:function(){q.css("display","block")},hideMainMask:function(){q.css("display","none")},cookie:{set:function(a,b,c,d){c=c||1;d=d||"";var f="";c&&(f=new Date,f.setTime(f.getTime()+864E5*c),f="; expires="+f.toGMTString());document.cookie=
a+"="+b+f+"; path=/"+d},get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null},"delete":function(a,b){yii.easyui.cookie.set(a,"",-1,b)}},requiredSelectedRow:function(a){if(a)return!0;g.messager.alert(yii.easyui.t.warning,yii.easyui.t.noSelectedData,"warning");return!1},refDropdown:function(a,b,c,d){d=void 0===d?{}:d;return D(a,b,c,d)},typeAbleComboBox:function(a){var b=
null,c="";a.combobox("textbox").bind("keydown",function(d){clearTimeout(b);c+=String.fromCharCode(d.keyCode);b=setTimeout(function(){for(var f=a.combobox("options"),h=a.combobox("getData"),e=0;e<h.length;e++){var m=h[e];if(m[f.textField].toLowerCase().match(c.toLowerCase())){a.combobox("select",m[f.valueField]);c="";return}}c=""},1E3)})},t:{close:"Close",connectionError:"Connection error",connectionErrorRetryNow:"Connection error, retry now?",connectionIsRefused:"Connection is refused",message:"Message",
navigationNotFound:"Navigation not found",noSelectedData:"No selected data",tryAgain:"Try Again",warning:"Warning"}}}(window.jQuery);