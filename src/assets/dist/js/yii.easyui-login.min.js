'use strict';window.yii.easyuiLogin=function(b){var c,h,e,f;return{isActive:!1,init:function(){window.localStorage.removeItem("token");b("#login-dialog").dialog({title:yii.easyuiLogin.dialogTitle,width:window.innerWidth<yii.easyuiLogin.dialogWidth?window.innerWidth-10:yii.easyuiLogin.dialogWidth,height:yii.easyuiLogin.dialogHeight,content:yii.easyuiLogin.content,closable:!1,minimizable:!1,maximizable:!1,collapsible:!1,draggable:!1,resizable:!1,iconCls:"icon-lock",toolbar:yii.easyuiLogin.header,buttons:"#login-btn"});
c=b(yii.easyuiLogin.usernameSelector);h=b("#loginform-password");b("#loginform-verifycode");e=b("#login-form");f=b("#login-btn-ok");c.textbox({prompt:"Username",required:1,fit:!0}).textbox("textbox").bind("keydown",function(a){13===a.keyCode&&e.form("submit");a.stopPropagation()});c.textbox("textbox").attr("autocomplete","on");h.passwordbox({prompt:"Password",required:1,fit:!0}).passwordbox("textbox").bind("keydown",function(a){13===a.keyCode&&e.form("submit");a.stopPropagation()});e.form({url:yii.easyuiLogin.url,
novalidate:!0,onSubmit:function(){b(this).form("enableValidation");if(!b(this).form("validate"))return!1;f.linkbutton({iconCls:"icon-lock",disabled:!0})},success:function(a){a=JSON.parse(a);try{if(a.data)for(var d in a.data)window.localStorage.setItem(d,a.data[d])}catch(l){b.messager.alert("Application","Application no support storage, maybe you run in private mode browser.","error")}if(a.redirect)window.location=a.redirect;else if(f.linkbutton({iconCls:"icon-ok",disabled:!1}),a.loginerror){d="";
for(var g in a.loginerror)if("object"===typeof a.loginerror[g])for(var k in a.loginerror[g])d+=a.loginerror[g][k];else d=a.loginerror[g];b.messager.alert("Login",d,"error",()=>{c.textbox("textbox").focus()})}},error:function(){f.linkbutton({iconCls:"icon-ok"})}});f.linkbutton({iconCls:"icon-ok",text:"Login",onClick:function(){e.form("submit")}});b("#login-btn-reset").linkbutton({iconCls:"icon-cancel",text:"Reset",onClick:function(){c.textbox({value:""});h.passwordbox({value:""})}});c.textbox("clear").textbox("textbox").focus()},
content:""}}(window.jQuery);$.extend($.fn.validatebox.defaults.rules,{justText:{validator:function(b,c){return!b.match(/[0-9]/)},message:"Please enter a text."},captcha:{validator:function(b,c){console.log($("body").data())},message:"Captcha"}});